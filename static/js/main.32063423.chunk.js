(this["webpackJsonpsimple-github-search"]=this["webpackJsonpsimple-github-search"]||[]).push([[0],{134:function(e,t,n){e.exports=n(223)},136:function(e,t,n){},223:function(e,t,n){"use strict";n.r(t);n(135),n(136);var r,i,a,o,l,c,s,u,d,p,f,h,b,y,m,g,v,O,j,w,E,x,S,I=n(0),C=n.n(I),k=n(30),z=n.n(k),T=n(29),R=n(36),L=n(42),P=n(41),q=n(55),H=n(227),$=n(121),W=n(225),B=n(91),D=n(224),A=n(228),F=n(229),M=function(e){Object(L.a)(n,e);var t=Object(P.a)(n);function n(){return Object(T.a)(this,n),t.apply(this,arguments)}return Object(R.a)(n,[{key:"render",value:function(){var e,t,n=this.props.item;return I.createElement("div",{key:n.id,style:{padding:"24px 0",borderTop:"1px solid #e1e4e8"}},I.createElement("a",{style:{fontSize:"16px"},href:n.url,target:"__blank"},n.nameWithOwner),I.createElement("div",{style:{marginBottom:"4px"},dangerouslySetInnerHTML:{__html:n.shortDescriptionHTML}}),I.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},null===(e=n.repositoryTopics)||void 0===e?void 0:e.nodes.map((function(e){return I.createElement(A.a,{key:e.url,style:{borderRadius:6,marginBottom:4,cursor:"pointer"},color:"blue",onClick:function(){window.open(e.url)}},I.createElement("div",{style:{fontSize:12,fontWeight:500}},e.topic.name))}))),I.createElement("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"center",fontSize:12,marginTop:4}},I.createElement("div",{style:{display:"flex",alignItems:"center",marginRight:16}},I.createElement(F.a,null),I.createElement("div",{style:{marginLeft:4}},null===(t=n.stargazers)||void 0===t?void 0:t.totalCount)),n.primaryLanguage&&I.createElement("div",{style:{display:"flex",alignItems:"center",marginRight:16}},I.createElement("div",{style:{width:12,height:12,borderRadius:6,backgroundColor:n.primaryLanguage.color,marginRight:4}}),I.createElement("div",null,n.primaryLanguage.name)),n.licenseInfo&&!n.licenseInfo.hidden&&I.createElement("div",{style:{display:"flex",alignItems:"center",marginRight:16}},I.createElement("div",{style:{marginLeft:4}},"".concat(n.licenseInfo.spdxId," license"))),n.updatedAt&&I.createElement("div",null,"Updated on ".concat(new Date(n.updatedAt).toLocaleString()))))}}]),n}(I.Component),U=function(e){Object(L.a)(n,e);var t=Object(P.a)(n);function n(){return Object(T.a)(this,n),t.apply(this,arguments)}return Object(R.a)(n,[{key:"render",value:function(){var e=this.props.item,t=e.body||"",n=t.length>120?t.substring(0,120)+" ...":t;return I.createElement("div",{key:e.id,style:{padding:"24px 0",borderTop:"1px solid #e1e4e8"}},I.createElement("a",{style:{fontSize:"16px"},href:e.url,target:"__blank"},e.title),I.createElement("div",{style:{marginBottom:"4px"}},n))}}]),n}(I.Component),_=n(68),N=n(15),Y=n(59),J=n(11),Q=(n(85),n(226)),G=n(110),K=n(5),V=(r=function e(){var t=this;Object(T.a)(this,e),this.storageKey=window.location.hostname,Object(N.a)(this,"history",i,this),Object(N.a)(this,"add",a,this),Object(N.a)(this,"delete",o,this),Object(N.a)(this,"clean",l,this),this.save=function(){localStorage.setItem(t.storageKey,JSON.stringify(t.history))},Object(N.a)(this,"getFromLocal",c,this),this.getFromLocal()},i=Object(J.a)(r.prototype,"history",[K.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),a=Object(J.a)(r.prototype,"add",[K.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){if(t){var n=e.history.findIndex((function(e){return e===t}));n>-1&&e.history.splice(n,1),e.history.unshift(t),e.save()}}}}),o=Object(J.a)(r.prototype,"delete",[K.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=e.history.findIndex((function(e){return e===t}));-1!==n&&(e.history.splice(n,1),e.save())}}}),l=Object(J.a)(r.prototype,"clean",[K.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){console.log("clean"),e.history=[],e.save()}}}),c=Object(J.a)(r.prototype,"getFromLocal",[K.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=localStorage.getItem(e.storageKey)||"[]";e.history=JSON.parse(t)}}}),r),X=Object(q.a)((u=function(e){Object(L.a)(n,e);var t=Object(P.a)(n);function n(){var e;Object(T.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).historyStore=new V,e.input=null,Object(N.a)(e,"showHistory",d,Object(Y.a)(e)),e.onChange=G.debounce((function(t){var n,r=e.props.store;e.close(),null===(n=e.input)||void 0===n||n.blur(),r.setQ(t),e.historyStore.add(t)}),800),Object(N.a)(e,"show",p,Object(Y.a)(e)),Object(N.a)(e,"close",f,Object(Y.a)(e)),e.documentClickHandler=function(){e.close()},e}return Object(R.a)(n,[{key:"componentDidMount",value:function(){window.document.addEventListener("click",this.documentClickHandler)}},{key:"componentWillUnmount",value:function(){window.document.removeEventListener("click",this.documentClickHandler)}},{key:"render",value:function(){var e=this,t=this.props,n=t.style,r=t.store;return I.createElement("div",{style:{position:"relative"}},I.createElement(Q.a,{ref:function(t){return e.input=t},placeholder:"Search...",style:Object(_.a)({borderRadius:6},n),onChange:function(t){return e.onChange(t.target.value)},defaultValue:r.q,onFocus:this.show,onClick:function(e){return e.nativeEvent.stopImmediatePropagation()},onPressEnter:function(t){return e.onChange(t.currentTarget.value)}}),this.showHistory&&this.historyStore.history.length>0&&I.createElement("div",{style:{zIndex:99,position:"absolute",top:36,left:0,right:0,maxHeight:200,backgroundColor:"#fff",boxShadow:"rgb(51, 51, 51, 0.1) 0px 10px 12px"},onClick:function(e){return e.nativeEvent.stopImmediatePropagation()}},this.historyStore.history.map((function(t){return I.createElement("div",{key:t,style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"4px 12px",fontSize:"16px",color:"#666",cursor:"pointer"},onClick:function(){var n;e.close(),null===(n=e.input)||void 0===n||n.setValue(t),r.setQ(t)}},t)})),I.createElement("div",{style:{display:"flex",flexDirection:"row-reverse",padding:"4px 12px"}},I.createElement("div",{style:{color:"#666",cursor:"pointer"},onClick:function(t){e.historyStore.clean(),e.close()}},"\u6e05\u9664\u8bb0\u5f55"))))}}]),n}(I.Component),d=Object(J.a)(u.prototype,"showHistory",[K.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),p=Object(J.a)(u.prototype,"show",[K.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.showHistory=!0}}}),f=Object(J.a)(u.prototype,"close",[K.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.showHistory=!1}}}),s=u))||s,Z=n(230),ee=Object(q.a)(h=function(e){Object(L.a)(n,e);var t=Object(P.a)(n);function n(){var e;Object(T.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).renderList=function(){var t,n,r,i=e.props.store,a=((null===(t=i.data)||void 0===t?void 0:t.data.search.nodes)||[]).filter((function(e){return e.id}));return i.data?I.createElement(W.b,{style:{height:"100%"},itemLayout:"vertical",size:"large",dataSource:a,renderItem:e.renderItem,footer:I.createElement("div",{style:{display:"flex",flexDirection:"row-reverse",alignItems:"center"}},[{text:"Next",action:"next",disabled:null===(n=i.pageInfo)||void 0===n?void 0:n.hasNextPage},{text:"Previous",action:"previous",disabled:null===(r=i.pageInfo)||void 0===r?void 0:r.hasPreviousPage}].filter((function(e){return e.disabled})).map((function(e){return I.createElement(B.a,{key:e.action,style:{padding:"0 10px",fontSize:"16px"},type:"link",onClick:function(){i.setPageInfo(e.action),window.scrollTo(0,0)}},e.text)})))}):null},e.renderItem=function(t){var n=e.props.store;return"REPOSITORY"===n.type?I.createElement(M,{item:t}):"ISSUE"===n.type?I.createElement(U,{item:t}):null},e.renderCountTip=function(){var t=e.props.store,n=function(){var e,n;switch(t.type){case"REPOSITORY":return"Showing ".concat(null===(e=t.data)||void 0===e?void 0:e.data.search.repositoryCount.toLocaleString()," available repository results");case"ISSUE":return"".concat(null===(n=t.data)||void 0===n?void 0:n.data.search.issueCount.toLocaleString()," issues");default:return""}}();return t.data&&n&&I.createElement("div",{style:{fontSize:24,color:"#24292E",fontWeight:"bold",marginBottom:16}},n)},e.renderTypeRadio=function(){var t=e.props.store;return I.createElement("div",{style:{marginBottom:24}},I.createElement(D.default.Group,{size:"small",buttonStyle:"solid",defaultValue:t.type,onChange:function(e){t.setType(e.target.value)}},I.createElement(D.default.Button,{value:"REPOSITORY"},"Repositories"),I.createElement(D.default.Button,{value:"ISSUE"},"Issues")))},e}return Object(R.a)(n,[{key:"render",value:function(){return I.createElement("div",{style:{maxWidth:"768px",margin:"auto",padding:"0 20px"}},I.createElement("div",{style:{marginBottom:24}},I.createElement("h2",{style:{color:"#24292E"}},I.createElement(Z.a,{style:{marginRight:6}}),"Search Github"),I.createElement(X,{style:{width:"100%"},store:this.props.store})),this.renderTypeRadio(),this.renderCountTip(),this.renderList())}}]),n}(I.Component))||h,te=n(123),ne=n.n(te),re=n(124),ie=n(125),ae=(b=function(){function e(t){var n=this;Object(T.a)(this,e),Object(N.a)(this,"data",y,this),Object(N.a)(this,"total",m,this),Object(N.a)(this,"loading",g,this),Object(N.a)(this,"q",v,this),Object(N.a)(this,"type",O,this),this.first=10,this.last=void 0,this.after=void 0,this.before=void 0,Object(N.a)(this,"loadFromSearch",j,this),Object(N.a)(this,"setQ",w,this),Object(N.a)(this,"setType",E,this),this.setPageInfo=function(e){var t,r;"next"===e&&(n.after=null===(t=n.pageInfo)||void 0===t?void 0:t.endCursor,n.before=void 0,n.first=10,n.last=void 0);"previous"===e&&(n.before=null===(r=n.pageInfo)||void 0===r?void 0:r.startCursor,n.after=void 0,n.last=10,n.first=void 0);n.search()},Object(N.a)(this,"search",x,this),this.loadFromSearch(t)}return Object(R.a)(e,[{key:"pageInfo",get:function(){var e;return null===(e=this.data)||void 0===e?void 0:e.data.search.pageInfo}},{key:"pageTotal",get:function(){var e,t;return"REPOSITORY"===this.type?Math.min(1e3,(null===(e=this.data)||void 0===e?void 0:e.data.search.repositoryCount)||0):"ISSUE"===this.type?Math.min(1e3,(null===(t=this.data)||void 0===t?void 0:t.data.search.issueCount)||0):0}}]),e}(),y=Object(J.a)(b.prototype,"data",[K.n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=Object(J.a)(b.prototype,"total",[K.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=Object(J.a)(b.prototype,"loading",[K.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v=Object(J.a)(b.prototype,"q",[K.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),O=Object(J.a)(b.prototype,"type",[K.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"REPOSITORY"}}),Object(J.a)(b.prototype,"pageInfo",[K.g],Object.getOwnPropertyDescriptor(b.prototype,"pageInfo"),b.prototype),Object(J.a)(b.prototype,"pageTotal",[K.g],Object.getOwnPropertyDescriptor(b.prototype,"pageTotal"),b.prototype),j=Object(J.a)(b.prototype,"loadFromSearch",[K.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=le(t);n.q&&(e.q=n.q),n.type&&(e.type=n.type),e.search()}}}),w=Object(J.a)(b.prototype,"setQ",[K.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.q=t,e.after=void 0,e.before=void 0,oe({q:t}),e.search()}}}),E=Object(J.a)(b.prototype,"setType",[K.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.type=t,e.data=void 0,oe({type:t}),e.search()}}}),x=Object(J.a)(b.prototype,"search",[K.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.loading=!0;var t=Object(K.q)({query:e.q,first:e.first,last:e.last,type:e.type,after:e.after,before:e.before});ne()({url:"https://api.github.com/graphql",headers:{Authorization:"Bearer ".concat("3f7e4980347386d4baf65053d279cafddd8b7c88")},method:"POST",data:{query:"\nquery githubsearch($query: String!, $first: Int, $last: Int, $type: SearchType!, $after: String, $before: String) {\n    search(query: $query, type: $type, first: $first, last: $last, after: $after, before: $before) {\n        issueCount\n        repositoryCount\n        nodes {\n            ... on Repository {\n                id\n                name\n                nameWithOwner\n                updatedAt\n                shortDescriptionHTML(limit: 120)\n                primaryLanguage {\n                    color\n                    name\n                }\n                licenseInfo {\n                    hidden\n                    spdxId\n                }\n                repositoryTopics(first: 10) {\n                    nodes {\n                        topic {\n                            name\n                        }\n                        url\n                    }\n                }\n                stargazers {\n                    totalCount\n                }\n                url\n            }\n            ... on Issue {\n                id\n                title\n                state\n                body\n                url\n            }\n        }\n        pageInfo {\n            hasNextPage\n            startCursor\n            hasPreviousPage\n            endCursor\n        }\n    }\n}\n",variables:t}}).then(Object(K.f)((function(t){200===t.status&&(e.data=t.data),e.loading=!1}))).catch(Object(K.f)((function(t){console.error(t),e.loading=!1})))}}}),b);function oe(e){var t=le(window.location.search),n="".concat(window.location.pathname,"?").concat(Object(re.stringify)(Object(_.a)(Object(_.a)({},t),e)));window.history.pushState({url:n},"",n)}function le(e){return e.startsWith("?")&&(e=e.substring(1)),Object(ie.parse)(e)}var ce=H.a.Header,se=H.a.Content,ue=Object(q.a)(S=function(e){Object(L.a)(n,e);var t=Object(P.a)(n);function n(){var e;Object(T.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).store=new ae(document.location.search),e}return Object(R.a)(n,[{key:"render",value:function(){return I.createElement(H.a,{style:{display:"flex",flexDirection:"column",justifyContent:"space-between"}},I.createElement(ce,{style:{display:"flex",alignItems:"center",height:"53px",backgroundColor:"#24292e",color:"#fff",padding:"0 20px"}},I.createElement("div",{style:{flexShrink:0,fontSize:"16px",fontWeight:"bold",marginRight:"16px"}},"Github Explorer")),I.createElement(se,{style:{flex:1,justifyContent:"center",backgroundColor:"#fff",padding:"24px 0 50px"}},I.createElement($.a,{spinning:this.store.loading},I.createElement(ee,{store:this.store}))))}}]),n}(I.Component))||S,de=function(e){Object(L.a)(n,e);var t=Object(P.a)(n);function n(){return Object(T.a)(this,n),t.apply(this,arguments)}return Object(R.a)(n,[{key:"render",value:function(){return I.createElement(ue,null)}}]),n}(I.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));z.a.render(C.a.createElement(de,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[134,1,2]]]);
//# sourceMappingURL=main.32063423.chunk.js.map